[gd_scene load_steps=17 format=3 uid="uid://b6pacd4qux0r0"]

[ext_resource type="Theme" uid="uid://4r6b2cnujbph" path="res://assets/gui_assets/waste_no_space.theme" id="1_6icyu"]
[ext_resource type="Script" uid="uid://xwkwmj6gqkg7" path="res://base/core/main/main.gd" id="1_awp0h"]
[ext_resource type="Script" uid="uid://ct0wfkng0uvkm" path="res://game/entities/player/player.gd" id="2_6lyvc"]
[ext_resource type="Texture2D" uid="uid://cbp7wc1hmrxoh" path="res://assets/test/ball-8x8.png" id="2_h8xxh"]
[ext_resource type="Texture2D" uid="uid://cufl7dyakpajc" path="res://assets/test/ball-5x5.png" id="3_qe2dj"]
[ext_resource type="Script" uid="uid://bv2acjca7ih7b" path="res://game/entities/ball/ball.gd" id="4_ociif"]
[ext_resource type="Script" uid="uid://ckelp87vk38tt" path="res://game/entities/components/trace_line/trace_line.gd" id="5_6icyu"]
[ext_resource type="Texture2D" uid="uid://butwuassq1vqn" path="res://assets/test/square-16x16.png" id="5_dn4rf"]
[ext_resource type="Script" uid="uid://bhnydydo6c60p" path="res://game/entities/player/charge_bar.gd" id="5_ugwa6"]

[sub_resource type="CircleShape2D" id="CircleShape2D_qe2dj"]
radius = 4.0

[sub_resource type="CircleShape2D" id="CircleShape2D_ociif"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_6icyu"]
bg_color = Color(0.0923971, 0.0923971, 0.0923971, 0.2)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_ugwa6"]
bg_color = Color(1, 1, 1, 1)

[sub_resource type="Curve" id="Curve_dn4rf"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CircleShape2D" id="CircleShape2D_6lyvc"]
radius = 2.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ma400"]
size = Vector2(16, 16)

[node name="MainScene" type="Control" node_paths=PackedStringArray("level_container", "gui")]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 1
theme = ExtResource("1_6icyu")
script = ExtResource("1_awp0h")
level_container = NodePath("World")
gui = NodePath("CanvasLayer/Gui")

[node name="World" type="Node2D" parent="."]
position = Vector2(430, 175)

[node name="Player" type="CharacterBody2D" parent="World"]
motion_mode = 1
script = ExtResource("2_6lyvc")
speed = 150.0

[node name="Sprite2D" type="Sprite2D" parent="World/Player"]
texture = ExtResource("2_h8xxh")

[node name="CollisionShape2D" type="CollisionShape2D" parent="World/Player"]
shape = SubResource("CircleShape2D_qe2dj")

[node name="CollectBallArea" type="Area2D" parent="World/Player"]
collision_layer = 0
collision_mask = 2
monitorable = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="World/Player/CollectBallArea"]
shape = SubResource("CircleShape2D_ociif")
debug_color = Color(0.80607, 0.335778, 0.632973, 0.42)

[node name="ChargeBar" type="ProgressBar" parent="World/Player" node_paths=PackedStringArray("player")]
offset_left = -5.0
offset_top = 5.0
offset_right = 5.0
offset_bottom = 7.0
theme_override_styles/background = SubResource("StyleBoxFlat_6icyu")
theme_override_styles/fill = SubResource("StyleBoxFlat_ugwa6")
max_value = 1.0
value = 0.62
show_percentage = false
script = ExtResource("5_ugwa6")
player = NodePath("..")

[node name="RotationAxis" type="Node2D" parent="World/Player"]

[node name="BallSlot" type="Node2D" parent="World/Player/RotationAxis"]
position = Vector2(7, 0)

[node name="Ball" type="CharacterBody2D" parent="World"]
position = Vector2(28, -3)
collision_layer = 2
collision_mask = 3
script = ExtResource("4_ociif")

[node name="Line2D" type="Line2D" parent="World/Ball" node_paths=PackedStringArray("body")]
top_level = true
width = 2.0
width_curve = SubResource("Curve_dn4rf")
script = ExtResource("5_6icyu")
body = NodePath("..")

[node name="Sprite2D" type="Sprite2D" parent="World/Ball"]
texture = ExtResource("3_qe2dj")
offset = Vector2(-0.5, -0.5)

[node name="CollisionShape2D" type="CollisionShape2D" parent="World/Ball"]
shape = SubResource("CircleShape2D_6lyvc")

[node name="Goal" type="Area2D" parent="World"]
position = Vector2(90, -2)
scale = Vector2(0.245, 1)
collision_layer = 0
collision_mask = 2
monitorable = false

[node name="Sprite2D" type="Sprite2D" parent="World/Goal"]
texture = ExtResource("5_dn4rf")

[node name="CollisionShape2D" type="CollisionShape2D" parent="World/Goal"]
shape = SubResource("RectangleShape2D_ma400")

[node name="CanvasLayer" type="CanvasLayer" parent="."]
layer = 2

[node name="Gui" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 1

[node name="Label" type="Label" parent="CanvasLayer/Gui"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 23.0
text = "Healt: 100"
